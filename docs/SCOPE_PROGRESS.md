# MIRAI - 開発進捗管理表

**プロジェクト名**: MIRAI (Migration Immigration Resource AI)
**開始日**: 2026年1月16日
**目標**: 4ヶ月でフルローンチ（全87機能実装）
**最終更新**: 2026年1月16日

---

## 📊 Phase別進捗状況

### Phase 1: 要件定義 ✅
- [x] Step#1: 成果目標の明確化
- [x] Step#2: 実現可能性調査
- [x] Step#3: 認証・権限設計（通常ルート）
- [x] Step#4: ページリスト作成
- [x] Step#5: 技術スタック決定
- [x] Step#6: 外部API選定
- [x] Step#7: 要件定義書作成 (`docs/requirements.md`)
- [x] Step#8: SCOPE_PROGRESS更新
- [x] Step#9: CLAUDE.md生成
- [x] Step#10: ページ深掘り

**完了日**: 2026年1月16日

---

### Phase 2: Git/GitHub管理 ✅
- [x] Gitリポジトリ初期化
- [x] GitHub連携
- [x] .gitignore設定（機密情報保護）
- [x] Git hooks設定（品質チェック自動化）
- [x] CI/CD設定（GitHub Actions）
- [x] 初回コミット・プッシュ

**完了日**: 2026年1月16日

---

### Phase 3: フロントエンド基盤
- [ ] Next.js 15プロジェクト初期化
- [ ] TypeScript設定
- [ ] Tailwind CSS設定
- [ ] Shadcn/ui導入
- [ ] next-intl設定（11言語対応）

**状態**: 未着手

---

### Phase 4: バックエンド基盤
- [ ] Prisma初期化
- [ ] PostgreSQL接続（Neon）
- [ ] NextAuth.js v5設定
- [ ] tRPC設定
- [ ] Redis接続（Upstash）

**状態**: 未着手

---

### Phase 5: データベース設計
- [ ] Prismaスキーマ完全定義
- [ ] Row Level Security実装
- [ ] マイグレーション実行
- [ ] シードデータ作成

**状態**: 未着手

---

### Phase 6: 認証・認可実装
- [ ] メール/パスワード認証
- [ ] セッション管理
- [ ] RBAC実装（9ロール）
- [ ] 二要素認証（行政書士・管理者）

**状態**: 未着手

---

### Phase 7: ページ実装（Month 2-3）
- [ ] P-001: トップページ
- [ ] U-001: ユーザー登録
- [ ] D-001: ダッシュボード（4ユーザータイプ別）
- [ ] A-001: 在留資格申請作成
- [ ] DOC-001: 書類管理
- [ ] ADMIN-001: 管理者ダッシュボード

**状態**: 未着手

---

### Phase 8: AI統合（Month 3）
- [ ] OpenAI GPT-4 API統合
- [ ] Anthropic Claude 3.5 API統合
- [ ] OpenAI Whisper API統合
- [ ] Pinecone Vector DB統合
- [ ] AI申請書最適化機能
- [ ] AI理由書生成機能
- [ ] AI承認予測モデル

**状態**: 未着手

---

### Phase 9: 入管API連携（Month 3）
- [ ] デジタル庁マイナポータルAPI調査
- [ ] 入管API連携実装
- [ ] 申請データ送信機能
- [ ] 進捗状況取得機能
- [ ] GPASS連携
- [ ] マイナンバーカード連携

**状態**: 未着手

---

### Phase 10: テスト・品質保証（Month 4）
- [ ] E2Eテスト作成（Playwright）
- [ ] パフォーマンステスト
- [ ] セキュリティ監査
- [ ] 負荷テスト（1,000同時接続）

**状態**: 未着手

---

### Phase 11: デプロイ・ローンチ（Month 4）
- [ ] Vercel本番デプロイ
- [ ] 環境変数設定
- [ ] 監視システム設定（Sentry/Datadog）
- [ ] Cloudflare CDN/WAF設定
- [ ] パイロット運用（行政書士事務所）
- [ ] 正式ローンチ

**状態**: 未着手

---

## 📋 統合ページ管理表

### 外国人向けページ
| ID | ページ名 | ルート | 権限レベル | 主要機能 | 着手 | 完了 |
|----|---------|-------|----------|---------|------|------|
| FN-001 | 在留カード管理 | `/residence-card` | 外国人 | デジタル管理、GPASS連携、OCR | [ ] | [ ] |
| FN-002 | ビザ申請 | `/visa-application` | 外国人 | 29在留資格対応、AI予測 | [ ] | [ ] |
| FN-003 | 申請進捗確認 | `/application-status` | 外国人 | リアルタイム進捗、通知 | [ ] | [ ] |
| FN-004 | 書類アップロード | `/documents` | 外国人 | PDF/画像対応、自動保存 | [ ] | [ ] |
| FN-005 | マイページ | `/mypage` | 外国人 | ダッシュボード、統計 | [ ] | [ ] |

### 企業向けページ
| ID | ページ名 | ルート | 権限レベル | 主要機能 | 着手 | 完了 |
|----|---------|-------|----------|---------|------|------|
| CO-001 | 従業員管理 | `/employees` | 企業管理者 | 外国人従業員DB、検索 | [ ] | [ ] |
| CO-002 | 在留期限管理 | `/expiry-management` | 企業管理者 | AI期限アラート、一括更新 | [ ] | [ ] |
| CO-003 | 書類テンプレート | `/templates` | 企業管理者 | 雇用契約書、自動翻訳 | [ ] | [ ] |
| CO-004 | ダッシュボード | `/dashboard` | 企業管理者 | 従業員ビザ状況可視化 | [ ] | [ ] |

### 登録支援機関向けページ
| ID | ページ名 | ルート | 権限レベル | 主要機能 | 着手 | 完了 |
|----|---------|-------|----------|---------|------|------|
| SO-001 | 支援対象者管理 | `/support-targets` | 支援機関 | 特定技能外国人一元管理 | [ ] | [ ] |
| SO-002 | 支援計画書作成 | `/support-plan` | 支援機関 | 2025年改正対応 | [ ] | [ ] |
| SO-003 | 定期面談 | `/interviews` | 支援機関 | オンライン面談、AI書き起こし | [ ] | [ ] |
| SO-004 | 報告書作成 | `/reports` | 支援機関 | 四半期・年次報告書自動生成 | [ ] | [ ] |

### 行政書士向けページ
| ID | ページ名 | ルート | 権限レベル | 主要機能 | 着手 | 完了 |
|----|---------|-------|----------|---------|------|------|
| SC-001 | 顧客管理 | `/clients` | 行政書士 | 企業・個人顧客CRM | [ ] | [ ] |
| SC-002 | 案件管理 | `/cases` | 行政書士 | 87申請類型対応 | [ ] | [ ] |
| SC-003 | AI申請書作成 | `/ai-application` | 行政書士 | GPT-4最適化、Claude理由書 | [ ] | [ ] |
| SC-004 | 電子署名 | `/e-signature` | 行政書士 | 法的有効な電子署名 | [ ] | [ ] |
| SC-005 | 売上管理 | `/revenue` | 行政書士 | 従量課金、統計 | [ ] | [ ] |

### 管理者向けページ
| ID | ページ名 | ルート | 権限レベル | 主要機能 | 着手 | 完了 |
|----|---------|-------|----------|---------|------|------|
| AD-001 | システム管理 | `/admin/system` | 管理者 | 全体統計、ユーザー管理 | [ ] | [ ] |
| AD-002 | テナント管理 | `/admin/tenants` | 管理者 | 事務所・企業・支援機関管理 | [ ] | [ ] |
| AD-003 | RBAC管理 | `/admin/roles` | 管理者 | 9ロール権限設定 | [ ] | [ ] |
| AD-004 | 監査ログ | `/admin/audit` | 管理者 | 全操作追跡 | [ ] | [ ] |
| AD-005 | 法令アップデート | `/admin/legal-updates` | 管理者 | 自動法改正対応 | [ ] | [ ] |

### 共通ページ
| ID | ページ名 | ルート | 権限レベル | 主要機能 | 着手 | 完了 |
|----|---------|-------|----------|---------|------|------|
| P-001 | トップページ | `/` | ゲスト | ランディング、11言語対応 | [ ] | [ ] |
| U-001 | ユーザー登録 | `/register` | ゲスト | 4ユーザータイプ別登録 | [ ] | [ ] |
| U-002 | ログイン | `/login` | ゲスト | 認証、二要素認証 | [ ] | [ ] |
| DOC-001 | 書類管理 | `/documents` | 全ユーザー | PDF管理、ダウンロード | [ ] | [ ] |

---

## 🎯 マイルストーン

### Month 1完了目標（Week 4終了時）
- ✅ 要件定義完了
- ✅ Git/GitHub管理完了
- [ ] フロントエンド基盤構築完了
- [ ] バックエンド基盤構築完了
- [ ] データベース設計完了
- [ ] 認証・認可実装完了

### Month 2完了目標（Week 8終了時）
- [ ] 外国人向けページ実装完了（5ページ）
- [ ] 企業向けページ実装完了（4ページ）

### Month 3完了目標（Week 12終了時）
- [ ] 登録支援機関向けページ実装完了（4ページ）
- [ ] 行政書士向けページ実装完了（5ページ）
- [ ] AI統合完了（GPT-4/Claude/Whisper）
- [ ] 入管API連携完了

### Month 4完了目標（Week 16終了時）
- [ ] 管理者向けページ実装完了（5ページ）
- [ ] 共通ページ実装完了（4ページ）
- [ ] 全機能テスト完了
- [ ] 正式ローンチ

---

## 📌 重要な注意事項

### 4ヶ月フルローンチの成功要因
- ✅ **省略なし**: 全87機能を完全実装
- ✅ **並行開発**: 複数チームによる同時進行
- ✅ **AI統合**: GPT-4/Claude/Whisperをフル活用
- ✅ **入管API**: デジタル庁連携を最優先
- ✅ **最新技術**: Next.js 15/tRPC/Prismaで開発速度最大化

### 開発原則
- **「あったらいいな」は絶対に作らない**
- **拡張可能性のための余分な要素は一切追加しない**
- **今、ここで必要な最小限の要素のみ実装**

---

**最終更新**: 2026年1月16日
**次回更新**: Phase 3開始時
